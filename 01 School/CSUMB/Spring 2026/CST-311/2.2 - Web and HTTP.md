---
ðŸ“• Courses:
  - "!!Intro to Computer Networks"
tags:
  - ComputerScience
  - ComputerScience/Networks
Date Created: 2026-02-11
---
```table-of-contents
```
---
# Web and HTTP
- Web Page consists of objects
	- Can be HTML file, JPEG image, Java applet, audio file, ...
- Web page consists of base HTML file which includes several referenced objects
	- each object is addressable by a URL, ex:
![[Pasted image 20260211141647.png|400]]

# HTTP Overview
- HTTP: hypertext transfer protocol
- Web's application layer protocol
- Client/Server model
	- **Client**: Browser that requests, receives (using HTTP protocol) and "displays" Web objects
	- **Server**: Web server sends (using HTTP protocol) objects in response to requests
- Client initiates a connection (creates socket) to server
- Server accepts the connection from client
- HTTP messages (application-layer protocol messages) exchanged between browser (HTTP client) and Web server (HTTP server)
- Connection closed
![[Pasted image 20260211142001.png|300]]
## HTTP Connections
- Non-persistent HTTP:
	- At most one object sent over connection
		- Connection then closes
	- Downloading multiple objects required multiple connections
- Persistent HTTP
	- Multiple objects can be sent over single connection between client and server
![[Pasted image 20260211151941.png|550]]
### Non-Persistent HTTP
- Advantages of Non-Persistent Connection
	- Not wasting resource because the connection opens only when there is some data to be sent
	- More secure because after sending that data, the connection gets terminated and nothing can be shared thereafter
- Disadvantages of Non-Persistent Connection
	- Requires a greater CPU overhead for the transmission of data
![[Pasted image 20260211151421.png|300]]
### Persistent HTTP
- Advantages of Persistent Connection
	- Lower CPU and memory usage because there is less number of connections
	- Reduced network congestion (fewer connections)
	- Reduced latency in subsequent requests (do not have to re-establish connections)
- Disadvantages of Persistent Connection
	- Resources may be kept occupied even when not needed and may not be available to others
	- Security issues
- Most modern browsers (Chrome, Firefox, ...) use persistent connections
- When loading a website, web clients open connections to the same site
	- Most of the contents often come with from the same web site, and significant number of hyperlinks to other objects often point to the same site
- An application that initiates an HTTP request to a server likely will make more requests to that server in the near future (to fetch the inline images, for example)
	- This property is called site locality
![[Pasted image 20260211151447.png|300]]
- The ***"pipelining*** feature in HTTP/1.1 allows requests to be issued asynchronously on a persistent connection
- Requests must be processed in proper order
	- Can do clever packaging
## Some Problems with Pipelining
- The server must send its responses in the same order that the requests were received
	- The entire connection remains first-in-first-out basis
- Head-of-line-blocking (HOL Blocking)
	- A performance-limiting phenomenon that occurs when a line of packets is held up by the first packet
- Most browsers disabled this feature by default
## Concurrent Persistent Connections
- The only way possible to achieve concurrent requests is by making use of multiple persistent connections
- Why limit the number of concurrent connections?
	- Too many connections imply a lot of burden for the server
	- Denial of Service (DoS) attack

# HTTP Request Message
- Two types of HTTP messages: ***request, response***
- HTTP request message in ASCII (human-readable format)
![[Pasted image 20260211152045.png|500]]
## General Format
### Request Line
![[Pasted image 20260211152219.png|400]]
### Header Lines
![[Pasted image 20260211152241.png|400]]

# Uploading Form Input
- POST method:
	- Web page often includes form input
	- Input is uploaded to the server in entity body
- URL method:
	- Uses GET method
	- Input is uploaded in URL field of request line:
		- EX: `www.somesite.com/animalsearch?elephant&apple`
## Example: Login Form
```http
<form method=â€œPOSTâ€ action=â€œlogin.phpâ€>
	Username:
	<input type=â€œtextâ€ name=â€œusernameâ€/>
	Password:
	<input type=â€œpasswordâ€ name=â€œpasswordâ€/>
	<input type=â€œsubmitâ€/>
</form>
```
- The browser will generate a "POST" request, as instructed by the programmer
## HTTP POST Request
```http
POST /login.php HTTP/1.1
Host: in.gr
Proxy-Connection: keep-alive
Content-Length: 31
Cache-Control: max-age=0
Accept:
text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,
*/*;q=0.8
Origin: null
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64)
AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104
Safari/537.36
Content-Type: application/x-www-form-urlencoded
Accept-Encoding: gzip,deflate
Accept-Language: en-US,en;q=0.8
username=admin&password=letmein
```
### At Server-Side
- When receives the request, the webserver will pass it to a web application to check if the user exists
	- Could be in a database (on the same machine or on other dedicated servers)
- Assume that the username and password are correct
	- The server will respond with the proper page to the user

# Method Types
>***HTTP/1.0:***
- GET
	- Requests data (a representation) of the specified resource
	- Requests using GET should only retrieve data, it should not include data in body
- HEAD
	- Asks for a response identical to a GET request, but without the response body
	- EX: If a URL might produce a large download, a HEAD request could read its Content-Length header to check the file size without actually downloading
- POST
	- Submits an entity to the specified resource, often causing a change in state or side effects on the server

>***HTTP/1.1:***
- GET, HEAD, POST
- PUT
	- Replaces all current representations of the target resource with the request payload
	- Uploads file in entity body to path specified in URL field
	- Compared to POST method, PUT requests are idempotent: calling the same PUT request multiple times will always produce the same result. In contrast, calling a POST request repeatedly have side effects of creating the same resource multiple times
- DELETE
	- Deletes file specified in the URL field

# HTTP Response Message
![[Pasted image 20260211153713.png|600]]
## Response Status Codes
- Status code appears in 1st line in server-to-client response message
- Important response codes:
	- **2XX**: Success
		- ex: `200 OK` -> Request succeeded, requested object later in this message
	- **3XX**: Redirection
		- ex: `301 Moved Permanently` -> Requested object moved, new location specified later in this message (location)
	- **4XX**: Client-Side Error
		- ex: `404 Not Found` -> requested document not found on this server
	- **5XX**: Server-Side Error
		- ex: `500 Internal Server Error`
		- `505 HTTP Version Not Supported`

# Newer Version: HTTP/2
- With this new version of HTTP, data is now framed and transported between the client and the server
## Browser Consumption of Response
- The browser gets the responses and starts consuming it
	- Drawing on the screen according to the HTML code that was present in the response from the web server
## Automatic Loading of Remote Resources
- As the browser is parsing the HTML, whenever it finds a reference to a remote resource, it will automatically make a request to get it
- Images
	- `<img src=http://foo.com/a.jpg/>`
- Cascading Style Sheets
	- `link rel="stylesheet" type="text/css" href="default.css"/>`
- Scripts
	- `<script src="http..."></script>`
- Frames/iframes
	- `<iframe src="http..."></iframe>`
## Where are we at?
- So far
	- We can ask pages and get back responses
	- We can click on links, which will generate GET requests and navigate around
	- Personalization:
		- Servers keep track of users, require user authentication
	- Then how does the server remember the user in the subsequent requests?
## Stateless Protocol
- HTTP is, by design, ***stateless***
	- There is nothing baked in the protocol to identify one request as part of a sequence of other requests
- **Stateless protocol:** Communication protocol in which the receiver must not retain session state from previous requests
	- EX: Internet protocol (IP), HTTP
- **Stateful protocol:** Communication protocol in which the receiver may retain session state from previous requests
	- EX: Transmission Control Protocol (TCP), File Transfer Protocol (FTP)
- We can try to do it by IP address, but that is not going to work well
	- Network Address Translation (NAT)
	- Dynamic Host Configuration Protocol (DHCP)
	- Mobile devices
## Adding Some State
- There is more than one way of introducing state, but the most popular on (by far) is using ***Cookies***
- **Cookie:** A small piece of data sent by the webserver to browsers, which the browsers are to include to **all** their subsequent requests to that server
### What are Cookies used for?
- **Authentication**
	- The cookie proves to the website that the client previously authenticated
- **Personalization**
	- Helps the website recognize the user from a previous visit
- **Tracking**
	- Follow the users from site to site; learn the user's browsing behavior, preferences, etc.

# Cookie-Based Session Management
![[Pasted image 20260216142003.png|500]]
![[Pasted image 20260216142044.png|500]]

# Sessions
- Different users have different session identifiers (present in their cookies), the web server will be able to tell them apart
	- Regardless of IP address
- When users delete their cookies, the browsers no longer send out the appropriate session identifier, and thus the web server "forgets" about them
- When users log out or inactive for a while, session for the users will be removed in the server
	- Social media: Long-lived session (until you log out)
	- Bank applications: Short-lived session (expired if inactive for a period)
## Session Identifiers
- Long pseudo-random strings
- Unique per visiting client
- Each identifier is associated with a specific visitor
- As sensitive as credentials (per session)
EX:
![[Pasted image 20260216142559.png|500]]
## Web Caches
- **Caching** is the term for storing reusable responses in order to make subsequent requests faster
- Web content can be cached at many different points throughout the delivery chain:
	- **Browser cache:** Web browsers themselves maintain a small cache. This may be user-specific content or content deemed expensive to download and likely to be requested again
	- **Intermediary caching proxies:** Any server in between the client and your infrastructure can cache certain content as desired
	- **Reverse Cache:** Your server infrastructure can implement its own cache for backend services. This way, content can be served from the point-of-contact instead of hitting backend servers on each request
### Intermediary Caching Proxies
- Goal: Satisfy client request without involving origin server
- User sets browser: Web accesses via cache
- Browser sends all HTTP requests to cache
	- Object in cache: cache returns object
	- else cache requests object from origin server, then returns object to client
### More About Web Caching
- Cache acts as both client and server
	- Server for original requesting client
	- Client to original server
- Typically proxy server cache is installed by ISP (university company, residential ISP)
- Why Web Caching?
	- Reduce response time for client request
	- Reduce traffic on an institution's access link
	- Internet dense with caches: Enables "poor" content providers to effectively deliver content
### Conditional GET
- Goal: Don't send object if cache has up-to-date cached version
	- No object transmission delay
	- Lower link utilization
- Cache: Specify date of cached copy in HTTP request
	- If-modified-since: `<date>`
- Server: Response contains no object if cached copy is up-to-date
	- 304 Not Modified
![[Pasted image 20260216143442.png|350]]
### Clear Browser Cache
- Cache could cause a problem when websites are updated and developed as files saved in the cache may conflict with what's actually coded into the website
- Clearing cache and cookies is a way we can be sure that any issues you may come across are actually something wrong with the website, rather than inconsistencies caused by using different browsers
---
# References
1. 